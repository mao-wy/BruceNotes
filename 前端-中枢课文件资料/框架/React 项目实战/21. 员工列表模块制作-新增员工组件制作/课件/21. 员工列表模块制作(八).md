## 新增员工组件制作



### 员工表单组件制作

**实现功能**

> 1. 初始化表单项基本展示
> 2. 表单检测功能实现
> 3. 部门职级选择
> 4. 图片上传功能

**依赖组件**

> - 新增模态框组件
> - 公共搜索列表组件
> - 图片上传组件
> - 员工表单检测组件

**制作**

1. **创建表单列表项数据清单,定义不同的列表项渲染字段及类型**

   ```js
   const staffFormData = [
     [
       { rule: 'nameRule', renderType: 'input', itemName: 'userName', initVal: '请输入员工姓名', labelTxt: '姓名' },
       { rule: 'accountRule', renderType: 'input', itemName: 'accountName', initVal: '请输入员工账户名', labelTxt: '账户名' }
     ]
   ]
   ```

2. **引入下拉搜索框组件，获取到选择内容后进行form表单数据添加**

3. **使用图片上传组件**

   - 用户上传图片规则为只能进行一张图片上传，可根据当前上传的fileList文件进行判断，若选择图片之前已经有文件图片存在，直接删除掉七牛的源文件，并进行新的图片文件的保存操作；




---

### 数据收集发送

- **发送前准备：**
  - 保证用户名唯一性（数据库不存在当前用户名、电话号码）
  - 进行多余渲染字段删除操作（删除部门中文渲染字段及职级中文字段）
- **接收响应后**
  - 执行关闭弹窗操作
  - 表单清空操作
  - 重新进行列表数据获取操作

---



### 批量删除功能实现

**实现功能**

> - 员工点击删除按钮后，弹出提示弹框（为选中内容时提示警告弹窗）
> - 删除当前选定用户信息
> - 数据表格更新（列表内容，总数）



